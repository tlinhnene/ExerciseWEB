
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>VNExpress – RSS Thể thao - Lê Thị Trúc Linh - K234111395</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <div class="page">
    <div class="rss-container">
      <h2>VNExpress – Tin thể thao mới nhất</h2>
      <ul id="rss-list" class="rss-list"></ul>
    </div>
  </div>

  <script>

  const FEED = "https://vnexpress.net/rss/the-thao.rss";

  fetch("https://api.allorigins.win/get?url=" + encodeURIComponent(FEED))
    .then(r => r.json())
    .then(d => {
      const xml = new DOMParser().parseFromString(d.contents, "text/xml");
      const items = [...xml.querySelectorAll("item")].slice(0, 10);
      document.getElementById("rss-list").innerHTML = items.map(i => {
        const t = i.querySelector("title")?.textContent || "";
        const l = i.querySelector("link")?.textContent || "#";
        const s = i.querySelector("description")?.textContent || "";
        const imgMatch = s.match(/<img[^>]+src="([^"]+)"/i);
        const imgSrc = imgMatch ? imgMatch[1] : "";

        return `
          <li class="rss-item" style="margin-bottom:14px;list-style:none;border-bottom:1px solid #eee;padding-bottom:8px;">
            ${imgSrc ? `<img src="${imgSrc}" alt="" style="width:100px;height:70px;object-fit:cover;margin-right:10px;float:left;border-radius:4px;">` : ""}
            <a href="${l}" target="_blank" rel="noopener" style="font-weight:600;color:#2a2a2a;text-decoration:none;">${t}</a>
            <div class="rss-desc" style="font-size:14px;color:#555;margin-top:4px;">${s.replace(/<img[^>]*>/, '')}</div>
            <div style="clear:both;"></div>
          </li>`;
      }).join("");
    })
    .catch(() => {
      document.getElementById("rss-list").innerHTML = "<li class='rss-item'>Load RSS failed</li>";
    });
  </script>
</body>
</html>
